# 路由选择

* 按 W(k)作为各节点负载（load）进行Weighted Round Robin加权轮询

```
    选择 负载W(k)*调用次数 最低的作为预选结果
```


* 如果所选择的路由过载（请求数超出门限），则：

```
    1. 若在当前周期中无错误，则选择当前路由，但仅分配一次（预取数为1）。
    2. 若在当前周期有错误出现，试探下一个节点，拒绝+1。
    3. 所有节点都失败，整体过载，返回。
```

对于第一个周期的特殊处理：

```
    由于第一个周期没有历史统计数据，W(k)全部预设为1，各路由的预取数也为1，此时为严格的round robin算法。
```
